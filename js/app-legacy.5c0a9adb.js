(function(){"use strict";var t={9e3:function(t,e,l){l(6992),l(8674),l(9601),l(7727);var n=l(9567),o=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"app"}},[l("el-select",{staticStyle:{width:"100px"},model:{value:t.fixed,callback:function(e){t.fixed=e},expression:"fixed"}},[l("el-option",{attrs:{value:void 0,label:"不固定"}}),l("el-option",{attrs:{value:"left",label:"固定左边"}}),l("el-option",{attrs:{value:"right",label:"固定右边"}})],1),t._v("   "),l("el-input",{staticStyle:{width:"300px"},attrs:{type:"number",placeholder:"滚动到第几行"},model:{value:t.jumpIndex,callback:function(e){t.jumpIndex=e},expression:"jumpIndex"}},[l("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.scrollToRow(t.jumpIndex)}},slot:"append"},[t._v("滚动")])],1),t._v("   数据总数量："),l("el-input",{staticStyle:{width:"200px"},attrs:{type:"number",placeholder:"数据条数"},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}}),l("VirtualScroll",{ref:"virtualScroll",attrs:{data:t.list,height:62,"key-prop":"id"},on:{change:t.onChange}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.virtualList1,stripe:"","row-key":"id",height:"500px"}},[l("el-table-column",{attrs:{label:"id",prop:"id"}}),l("el-table-column",{attrs:{label:"内容",width:"260",prop:"text"}}),l("el-table-column",{attrs:{label:"内容省略",width:"260",prop:"text","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{label:"详情","min-width":"260"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[l("el-button",{attrs:{type:"text"},on:{click:function(t){n.show=!n.show}}},[t._v(t._s(n.show?"隐藏":"显示"))]),n.show?l("div",[t._v(t._s(n.text2))]):t._e()]}}])}),l("el-table-column",{attrs:{label:"一级表头"}},[l("el-table-column",{attrs:{label:"第n行",width:"400",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",width:"400",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",width:"400",prop:"id"}})],1),l("el-table-column",{attrs:{label:"操作",fixed:t.fixed,width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.id)+" "),l("el-button",{on:{click:function(e){return t.onDel(n)}}},[t._v("删除")]),l("el-button",{on:{click:function(e){return t.onEdit(n)}}},[t._v("编辑")])]}}])}),l("div",{attrs:{slot:"append"},slot:"append"},[l("el-divider",[t._v("到底了")])],1)],1)],1),l("b",[t._v("行数: "+t._s(t.virtualList1.length))]),l("h2",[t._v("不定列宽度，下拉加载")]),l("VirtualScroll",{attrs:{data:t.list2,height:62,"key-prop":"id"},on:{change:function(e){return t.virtualList2=e}}},[l("el-table",{staticClass:"table2",attrs:{"row-key":"id",stripe:"",data:t.virtualList2,height:"500px"}},[l("el-table-column",{attrs:{label:"id",prop:"id"}}),l("el-table-column",{attrs:{label:"内容",prop:"text"}}),l("el-table-column",{attrs:{label:"详情"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[l("el-button",{attrs:{type:"text"},on:{click:function(t){n.show=!n.show}}},[t._v(t._s(n.show?"隐藏":"显示"))]),n.show?l("div",[t._v(t._s(n.text2))]):t._e()]}}])}),l("el-table-column",{attrs:{label:"第n行",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",prop:"id"}}),l("el-table-column",{attrs:{label:"操作",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.id)+" "),l("el-button",{on:{click:function(e){return t.onDel2(n)}}},[t._v("删除")]),l("el-button",{on:{click:function(e){return t.onEdit2(n)}}},[t._v("编辑")])]}}])}),l("div",{attrs:{slot:"append"},slot:"append"},[l("InfiniteLoading",{attrs:{forceUseInfiniteWrapper:".table2 .el-table__body-wrapper"},on:{infinite:t.loadMore}})],1)],1)],1),l("b",[t._v("行数: "+t._s(t.virtualList2.length))]),l("h2",[t._v("不使用虚拟滚动的表格效果（数据大时会卡顿）")]),t._v(" 开启："),l("el-switch",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),t.show?l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list,height:"500px"}},[l("el-table-column",{attrs:{label:"id",prop:"id"}}),l("el-table-column",{attrs:{label:"内容",width:"260",prop:"text"}}),l("el-table-column",{attrs:{label:"内容省略",width:"260",prop:"text","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{label:"详情","min-width":"260"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[l("el-button",{attrs:{type:"text"},on:{click:function(t){n.show=!n.show}}},[t._v(t._s(n.show?"隐藏":"显示"))]),n.show?l("div",[t._v(t._s(n.text2))]):t._e()]}}],null,!1,230167116)}),l("el-table-column",{attrs:{label:"一级表头"}},[l("el-table-column",{attrs:{label:"第n行",width:"400",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",width:"400",prop:"id"}}),l("el-table-column",{attrs:{label:"第n行",width:"400",prop:"id"}})],1),l("el-table-column",{attrs:{label:"操作",fixed:t.fixed,width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.id)+" "),l("el-button",{key:n.id,on:{click:function(e){return t.onDel(n)}}},[t._v("删除")]),l("el-button",{key:n.id,on:{click:function(e){return t.onEdit(n)}}},[t._v("编辑")])]}}],null,!1,1374602272)}),l("el-divider",{attrs:{slot:"append"},slot:"append"},[t._v("到底了")])],1):t._e(),l("br"),l("b",[t._v("行数: "+t._s(t.list.length))])],1)},i=[],r=(l(4553),l(561),function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[t._t("default")],2)}),a=[],s=(l(9653),l(1539),l(4747),l(1038),l(8783),l(7042),l(4074)),u=l.n(s),c={name:"el-table-virtual-scroll",props:{data:{type:Array,required:!0},height:{type:Number,default:60},buffer:{type:Number,default:500},keyProp:{type:String,default:"id"},throttleTime:{type:Number,default:100}},data:function(){return{sizes:{}}},computed:{offsetMap:function(t){for(var e=t.keyProp,l=t.height,n=t.sizes,o=t.data,i={},r=0,a=0;a<o.length;a++){var s=o[a][e];i[s]=r;var u=n[s],c="number"===typeof u?u:l;r+=c}return i}},methods:{initData:function(){var t=this;this.renderData=[],this.top=void 0,this.bottom=void 0,this.start=0,this.end=void 0,this.scroller=this.$el.querySelector(".el-table__body-wrapper"),setTimeout((function(){t.handleScroll()}),100),this.onScroll=u()(this.handleScroll,this.throttleTime),this.scroller.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.onScroll)},updateSizes:function(){var t=this,e=this.$el.querySelectorAll(".el-table__body > tbody > .el-table__row");Array.from(e).forEach((function(e,l){var n=t.renderData[l];if(n){var o=n[t.keyProp],i=e.offsetHeight;t.sizes[o]!==i&&t.$set(t.sizes,o,i)}}))},handleScroll:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.updateSizes(),this.calcRenderData(),this.calcPosition(),t&&this.updatePosition(),this.$emit("change",this.renderData,this.start,this.end)},getOffsetTop:function(t){var e=this.data[t];return e&&this.offsetMap[e[this.keyProp]]||0},getSize:function(t){var e=this.data[t];if(e){var l=e[this.keyProp];return this.sizes[l]||this.height}return this.height},calcRenderData:function(){var t=this.scroller,e=this.data,l=this.buffer,n=t.scrollTop-l,o=t.scrollTop+t.offsetHeight+l,i=0,r=e.length-1,a=0;while(i<=r){a=Math.floor((i+r)/2);var s=this.getOffsetTop(a);if(s<n){var u=this.getOffsetTop(a+1);if(u>n)break;i=a+1}else r=a-1}for(var c=a,d=e.length-1,h=c+1;h<e.length;h++){var f=this.getOffsetTop(h);if(f>=o){d=h;break}}c%2&&(c-=1),this.top=n,this.bottom=o,this.start=c,this.end=d,this.renderData=e.slice(c,d+1)},calcPosition:function(){var t=this,e=this.data.length-1,l=this.getOffsetTop(e)+this.getSize(e),n=this.getOffsetTop(this.start),o=[".el-table__body-wrapper",".el-table__fixed-right .el-table__fixed-body-wrapper",".el-table__fixed .el-table__fixed-body-wrapper"];o.forEach((function(e){var o=t.$el.querySelector(e);if(o){if(!o.wrapEl){var i=document.createElement("div"),r=document.createElement("div");i.appendChild(r),r.appendChild(o.children[0]),o.insertBefore(i,o.firstChild),o.wrapEl=i,o.innerEl=r}o.wrapEl&&(o.wrapEl.style.height=l+"px",o.innerEl.style.transform="translateY(".concat(n,"px)"))}}))},updatePosition:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.timer&&clearTimeout(t.timer),t.handleScroll(!1)}),this.throttleTime+10)},update:function(){console.log("update"),this.handleScroll()},scrollTo:function(t){var e=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.data[t];n&&this.scroller&&(this.updateSizes(),this.calcRenderData(),this.$nextTick((function(){var n=e.getOffsetTop(t);e.scroller.scrollTop=n,l||setTimeout((function(){e.scrollTo(t,!0)}),50)})))},reset:function(){this.sizes={},this.scrollTo(0,!1)}},watch:{data:function(){this.update()}},created:function(){var t=this;this.$nextTick((function(){t.initData()}))},beforeDestroy:function(){this.scroller&&(this.scroller.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onScroll))}},d=c,h=l(1001),f=(0,h.Z)(d,r,a,!1,null,"39ceb21c",null),p=f.exports,v=l(1774),b=l.n(v),m={name:"App",components:{VirtualScroll:p,InfiniteLoading:b()},data:function(){return{count:2e3,count2:0,fixed:void 0,jumpIndex:1999,loading:!1,show:!1,list:[],list2:[],virtualList1:[],virtualList2:[]}},methods:{fetchData:function(){var t=this;this.loading=!0,this.list=[],setTimeout((function(){t.list=[],t.$refs.virtualScroll.reset();for(var e=0;e<t.count;e++){var l=t.getRandomContent(),n=t.getRandomContent();t.list.push({id:e,show:!1,text:l,text2:n})}t.loading=!1}),1e3)},getRandomContent:function(){var t=["这是一条测试数据","君不见黄河之水天上来，奔流到海不复回。","十年生死两茫茫","寻寻觅觅，冷冷清清，凄凄惨惨戚戚。","桃花坞里桃花庵，桃花庵里桃花仙；桃花仙人种桃树，又摘桃花卖酒钱。","明月几时有，把酒问青天。","槛菊愁烟兰泣露，罗幕轻寒，","寒蝉凄切，对长亭晚，骤雨初歇。都门帐饮无绪，留恋处，兰舟催发。执手相看泪眼，竟无语凝噎。念去去，千里烟波，暮霭沉沉楚天阔。多情自古伤离别，更那堪冷落清秋节！今宵酒醒何处？杨柳岸，晓风残月。此去经年，应是良辰好景虚设。便纵有千种风情，更与何人说？","红豆生南国，春来发几枝。","黄鹂"],e=Math.floor(10*Math.random());return t[e]},onChange:function(t){console.log("onChange"),this.virtualList1=t},onDel:function(t){var e=this.list.findIndex((function(e){return e===t}));e>-1&&this.list.splice(e,1)},onEdit:function(t){t.text=t.text+"__编辑"},onDel2:function(t){var e=this.list2.findIndex((function(e){return e===t}));e>-1&&this.list2.splice(e,1)},scrollToRow:function(t){this.$refs.virtualScroll.scrollTo(t)},loadMore:function(t){var e=this;setTimeout((function(){for(var l=0;l<10;l++)e.count2++,e.list2.push({id:e.count2,show:!1,text:e.getRandomContent(),text2:e.getRandomContent()});t&&t.loaded()}),1e3)}},watch:{count:function(){this.fetchData()}},created:function(){this.fetchData()}},_=m,w=(0,h.Z)(_,o,i,!1,null,null,null),g=w.exports,y=l(4549),x=l.n(y);n["default"].config.productionTip=!1,n["default"].use(x()),new n["default"]({render:function(t){return t(g)}}).$mount("#app")}},e={};function l(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=t,function(){var t=[];l.O=function(e,n,o,i){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],i=t[c][2];for(var a=!0,s=0;s<n.length;s++)(!1&i||r>=i)&&Object.keys(l.O).every((function(t){return l.O[t](n[s])}))?n.splice(s--,1):(a=!1,i<r&&(r=i));if(a){t.splice(c--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,o,i]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){l.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};l.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,r=n[0],a=n[1],s=n[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)l.o(a,o)&&(l.m[o]=a[o]);if(s)var c=s(l)}for(e&&e(n);u<r.length;u++)i=r[u],l.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return l.O(c)},n=self["webpackChunkel_table_virtual_scroll"]=self["webpackChunkel_table_virtual_scroll"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=l.O(void 0,[998],(function(){return l(9e3)}));n=l.O(n)})();
//# sourceMappingURL=app-legacy.5c0a9adb.js.map